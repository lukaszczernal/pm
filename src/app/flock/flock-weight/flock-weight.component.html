<nav *ngIf="!hasInserts" class="row">
    <h3 class="text-xs-center">
        Aby wyświetlić prognozowaną wagę należy dodać przynajmniej jedno wstawienie.
    </h3>
    <ul class="nav text-xs-center">
        <li class="nav-item">
            <a routerLink="../insert" class="btn btn-primary" type="text">Dodaj wstawienie</a>
        </li>
    </ul>
</nav>

<table *ngIf="hasInserts" class="table table-hover table-outline m-b-0 hidden-sm-down">
    <thead class="thead-default">
        <tr>
            <th class="text-xs-center">Dzień</th>
            <th class="text-xs-center">Data</th>
            <th class="text-xs-right">Waga jednostkowa</th>
            <th class="text-xs-right">Norma wagi jednostkowej</th>
            <th class="text-xs-right">Odchylenie od normy</th>
            <th class="text-xs-right">Waga stada</th>
            <th class="text-xs-right">Przyrost dzienny</th>
        </tr>
    </thead>
    <tbody>

        <template ngFor let-item [ngForOf]="items" [ngForTrackBy]="item?.day">

            <tr>
                <td class="text-xs-center">
                    <span>{{ item.day }}</span>
                </td>
                <td class="text-xs-center">
                    <span>{{ item.date | date:'dd/MM/yy' }}</span>
                </td>
                <td class="text-xs-right">
                    <form #form="ngForm"  (ngSubmit)="onItemChange(form)">
                        <input name="id" [ngModel]="item.weightItem.id" type="hidden">
                        <input name="flock" [ngModel]="item.weightItem.flock" type="hidden">
                        <input name="date" [ngModel]="item.weightItem.date" type="hidden">
                        <input name="value" [ngModel]="item.weightItem.value" type="number" (blur)="form.ngSubmit.emit()" placeholder="-">
                    </form>
                </td>
                <td class="text-xs-right">
                    <span>{{ item.marketWeight | number:'1.3-3' | unit:'kg' }}</span>
                </td>
                <td class="text-xs-right">
                    <span>{{ (item.weight) ? ((item.weight - item.marketWeight) | number:'1.3-3') : '-' }}</span>
                </td>
                <td class="text-xs-right">
                    <span>{{ item.weightTotal | number:'1.0-0' | unit:'kg' }}</span>
                </td>
                <td class="text-xs-right">
                    <span>{{ item.incrementTotal | number:'1.0-0' | unit:'kg' }}</span>
                </td>
            </tr>

            <!--TODO add summary-->

        </template>

    </tbody>
</table>


